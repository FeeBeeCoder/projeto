{% extends 'base.html' %}

{% block title %}Avaliações de {{ ong[0] }}{% endblock %}

{% block content %}
<h2>Avaliações de {{ ong[0] }}</h2>
<p>Veja o que outros voluntários disseram sobre esta ONG.</p>

<ul>
    {% for avaliacao in avaliacoes %}
    <li>
        <strong>{{ avaliacao[3] }}</strong> 
        <span class="stars" data-rating="{{ avaliacao[0] }}"></span> <!-- Estrelas renderizadas aqui -->
        - {{ avaliacao[2] }}<br>
        "{{ avaliacao[1] }}"
    </li>
    {% endfor %}
</ul>

<style>
    /* Estilo geral */
    body {
    font-family: Arial, sans-serif;
    background-color: #f4f4f9;
    color: #333;
    margin: 0;
    padding: 0;
}

/* Cabeçalho */
h2 {
    color: #4CAF50;
    text-align: center;
    margin-top: 20px;
    font-size: 1.8rem;
}

/* Parágrafo explicativo */
p {
    text-align: center;
    margin: 10px auto 20px;
    font-size: 1.2rem;
    max-width: 600px;
    color: #555;
}

/* Lista de avaliações */
ul {
    list-style: none;
    padding: 0;
    max-width: 600px;
    margin: 0 auto;
}



li strong {
    color: #4CAF50;
    font-size: 1.2rem;
}

li span.stars {
    color: #FFD700; /* Cor dourada para estrelas */
    font-size: 1.2rem;
    margin-left: 10px;
}

li p {
    margin: 10px 0 0;
    font-style: italic;
}
 /* Estilo para empurrar o footer para o final */
        html, body {
        height: 100%;
        margin: 0;
        display: flex;
        flex-direction: column;
    }

    /* O bloco de conteúdo ocupa o espaço restante */
    #content {
        flex: 1;
    }


</style>
<script>
    // Função para gerar estrelas com base na nota
    function renderStars() {
        const starContainers = document.querySelectorAll('span.stars'); // Seleciona todos os containers de estrelas

        starContainers.forEach(container => {
            const rating = container.dataset.rating; // Obtém a nota armazenada como data-rating
            container.innerHTML = '★'.repeat(rating) + '☆'.repeat(5 - rating); // Gera estrelas cheias e vazias
        });
    }

    // Executa a função após o carregamento da página
    document.addEventListener('DOMContentLoaded', renderStars);

</script>

{% endblock %}

